{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Thomas BDC\\\\source\\\\repos\\\\liquid-glass\\\\src\\\\GlassElement\\\\GlassElement.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { getDisplacementFilter } from \"./getDisplacementFilter\";\nimport { getDisplacementMap } from \"./getDisplacementMap\";\nimport styles from \"./GlassElement.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const GlassElement = _ref => {\n  _s();\n  let {\n    height,\n    width,\n    depth: baseDepth,\n    radius,\n    children,\n    strength,\n    chromaticAberration,\n    blur = 2,\n    debug = false,\n    zoom = 1\n  } = _ref;\n  /* Change element depth on click */\n  const [clicked, setClicked] = useState(false);\n  let depth = baseDepth / (clicked ? 0.7 : 1);\n  // Pour l'effet loupe : position du curseur\n  const [mouse, setMouse] = useState({\n    x: width / 2,\n    y: height / 2\n  });\n\n  // Gestion du déplacement du contenu zoomé\n  const handleMouseMove = e => {\n    const rect = e.currentTarget.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    setMouse({\n      x,\n      y\n    });\n  };\n  /* Dynamic CSS properties */\n  const style = {\n    height: `${height}px`,\n    width: `${width}px`,\n    borderRadius: `${radius}px`,\n    backdropFilter: `blur(${blur / 2}px) url('${getDisplacementFilter({\n      height,\n      width,\n      radius,\n      depth,\n      strength,\n      chromaticAberration\n    })}') blur(${blur}px) brightness(1.1) saturate(1.5) `\n  };\n\n  /* Debug mode: display the displacement map instead of actual effect */\n  if (debug === true) {\n    style.background = `url(\"${getDisplacementMap({\n      height,\n      width,\n      radius,\n      depth\n    })}\")`;\n    style.boxShadow = \"none\";\n  }\n\n  // Calcul du déplacement pour centrer la loupe sous la souris\n  const offsetX = mouse.x - width / 2;\n  const offsetY = mouse.y - height / 2;\n  const contentStyle = {\n    width: \"100%\",\n    height: \"100%\",\n    borderRadius: \"inherit\",\n    transform: `scale(${zoom}) translate(${-offsetX * (zoom - 1)}px, ${-offsetY * (zoom - 1)}px)`,\n    transformOrigin: \"center center\",\n    pointerEvents: \"none\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.box,\n    style: style,\n    onMouseDown: () => setClicked(true),\n    onMouseUp: () => setClicked(false),\n    onMouseMove: zoom > 1 ? handleMouseMove : undefined,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: contentStyle,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n_s(GlassElement, \"BlQl4zSe57ivUQ0RbVPu+69mAFY=\");\n_c = GlassElement;\nvar _c;\n$RefreshReg$(_c, \"GlassElement\");","map":{"version":3,"names":["useState","getDisplacementFilter","getDisplacementMap","styles","jsxDEV","_jsxDEV","GlassElement","_ref","_s","height","width","depth","baseDepth","radius","children","strength","chromaticAberration","blur","debug","zoom","clicked","setClicked","mouse","setMouse","x","y","handleMouseMove","e","rect","currentTarget","getBoundingClientRect","clientX","left","clientY","top","style","borderRadius","backdropFilter","background","boxShadow","offsetX","offsetY","contentStyle","transform","transformOrigin","pointerEvents","className","box","onMouseDown","onMouseUp","onMouseMove","undefined","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Thomas BDC/source/repos/liquid-glass/src/GlassElement/GlassElement.tsx"],"sourcesContent":["import { CSSProperties, ReactNode, useState } from \"react\";\nimport {\n  getDisplacementFilter,\n  DisplacementOptions,\n} from \"./getDisplacementFilter\";\nimport { getDisplacementMap } from \"./getDisplacementMap\";\nimport styles from \"./GlassElement.module.css\";\n\ntype GlassElementProps = DisplacementOptions & {\n  children?: ReactNode | undefined;\n  blur?: number;\n  debug?: boolean;\n  zoom?: number;\n};\n\nexport const GlassElement = ({\n  height,\n  width,\n  depth: baseDepth,\n  radius,\n  children,\n  strength,\n  chromaticAberration,\n  blur = 2,\n  debug = false,\n  zoom = 1,\n}: GlassElementProps) => {\n  /* Change element depth on click */\n  const [clicked, setClicked] = useState(false);\n  let depth = baseDepth / (clicked ? 0.7 : 1);\n  // Pour l'effet loupe : position du curseur\n  const [mouse, setMouse] = useState<{ x: number; y: number }>({ x: width / 2, y: height / 2 });\n\n  // Gestion du déplacement du contenu zoomé\n  const handleMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\n    const rect = e.currentTarget.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    setMouse({ x, y });\n  };\n  /* Dynamic CSS properties */\n  const style: CSSProperties = {\n    height: `${height}px`,\n  \n    width: `${width}px`,\n    borderRadius: `${radius}px`,\n    backdropFilter: `blur(${blur / 2}px) url('${getDisplacementFilter({\n      height,\n      width,\n      radius,\n      depth,\n      strength,\n      chromaticAberration,\n    })}') blur(${blur}px) brightness(1.1) saturate(1.5) `,\n  };\n\n  /* Debug mode: display the displacement map instead of actual effect */\n  if (debug === true) {\n    style.background = `url(\"${getDisplacementMap({\n      height,\n      width,\n      radius,\n      depth,\n    })}\")`;\n    style.boxShadow = \"none\";\n  }\n\n   // Calcul du déplacement pour centrer la loupe sous la souris\n    const offsetX = mouse.x - width / 2;\n    const offsetY = mouse.y - height / 2;\n    const contentStyle: CSSProperties = {\n      width: \"100%\",\n      height: \"100%\",\n      borderRadius: \"inherit\",\n      transform: `scale(${zoom}) translate(${-offsetX * (zoom - 1)}px, ${-offsetY * (zoom - 1)}px)`,\n      transformOrigin: \"center center\",\n      pointerEvents: \"none\",\n    };\n\n    return (\n    <div\n      className={styles.box}\n      style={style}\n      onMouseDown={() => setClicked(true)}\n      onMouseUp={() => setClicked(false)}\n      onMouseMove={zoom > 1 ? handleMouseMove : undefined}\n    >\n      <div style={contentStyle}>\n        {children}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}